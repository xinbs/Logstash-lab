# 日志发送工具 - 带界面版本

## 📝 简介

这是一个基于原有 `send_message.py` 开发的图形界面版本，提供两种界面方案：
1. **Web版本** (推荐) - 基于Streamlit的现代Web界面
2. **桌面版本** - 基于Tkinter的传统桌面应用

## 🚀 快速开始

### 🌐 Web版本 (推荐)
```bash
# 方法1：使用启动脚本
./启动Web版本.sh

# 方法2：手动启动
pip install streamlit
streamlit run log_sender_web.py
```

### 🖥️ 桌面版本
```bash
# 方法1：直接运行主程序
python log_sender_gui.py

# 方法2：使用启动脚本
python run_gui.py
```

> **注意**: 如果桌面版本无法启动（tkinter不可用），请使用Web版本。

## 🎯 功能特性

### 1. 连接配置
- **主机地址**：支持IP地址或域名
- **端口设置**：自定义端口号
- **超时设置**：网络连接超时时间
- **连接测试**：一键测试网络连接

### 2. 手动发送消息
- 大文本框输入消息内容
- 支持多行文本
- 一键发送功能
- 发送成功后自动清空输入框

### 3. 文件监控
- 图形化选择文件路径
- 实时监控文件变化
- 自动发送新增内容
- 开始/停止监控控制

### 4. 运行日志
- 实时显示操作状态
- 详细的错误信息
- 时间戳记录
- 一键清空日志

## 🎨 界面说明

```
┌─────────────────────────────────────────────────────┐
│ 连接配置区域                                          │
│ [主机] [端口] [超时] [测试连接]                        │
├─────────────────────────────────────────────────────┤
│ 手动发送消息区域                                      │
│ ┌─────────────────────────────────────────────────┐ │
│ │ 多行文本输入框                                    │ │
│ └─────────────────────────────────────────────────┘ │
│                    [发送消息]                         │
├─────────────────────────────────────────────────────┤
│ 文件监控区域                                          │
│ [文件路径] [浏览] [开始监控]                          │
├─────────────────────────────────────────────────────┤
│ 运行日志区域                                          │
│ ┌─────────────────────────────────────────────────┐ │
│ │ 滚动日志显示                                      │ │
│ │ [时间戳] 操作记录...                              │ │
│ └─────────────────────────────────────────────────┘ │
│                    [清空日志]                         │
└─────────────────────────────────────────────────────┘
```

## 📖 使用流程

### 基本使用
1. **配置连接参数**
   - 输入目标主机地址
   - 设置端口号
   - 调整超时时间（可选）

2. **测试连接**
   - 点击"测试连接"按钮
   - 查看日志区域的连接结果

3. **发送消息**
   - **手动发送**：在文本框输入内容，点击"发送消息"
   - **文件监控**：选择日志文件，点击"开始监控"

### 高级功能
- **批量发送**：选择包含多条日志的文件进行监控
- **实时监控**：程序会监控文件大小变化，自动发送新内容
- **错误处理**：详细的错误信息显示在日志区域

## ⚡ 优势特点

### 相比命令行版本的改进
- ✅ **可视化操作**：无需记忆命令参数
- ✅ **实时反馈**：图形化显示操作状态
- ✅ **多功能集成**：手动发送+文件监控一体化
- ✅ **错误友好**：清晰的错误提示和处理
- ✅ **本地网络支持**：支持局域网内其他设备访问（Web版本）

### Web版本特性
- 🌐 **现代界面**：美观的Web界面，响应式设计
- 🌐 **跨平台**：任何有浏览器的设备都能使用
- 🌐 **局域网访问**：可供团队其他成员使用
- 🌐 **易部署**：一条命令即可启动

### 桌面版本特性
- 🖥️ **零依赖**：仅使用Python内置库（如果tkinter可用）
- 🖥️ **原生界面**：传统桌面应用体验
- 🖥️ **直接运行**：无需浏览器

### 共同技术特性
- 🔧 **多线程**：文件监控不阻塞界面操作
- 🔧 **异常处理**：完善的错误处理机制
- 🔧 **内存优化**：高效的消息队列机制

## 🛠️ 系统要求

### Web版本
- Python 3.7+
- Streamlit库 (自动安装)
- 网络连接到目标Logstash服务器

### 桌面版本
- Python 3.7+
- 内置tkinter支持（部分Python安装可能不包含）
- 网络连接到目标Logstash服务器

## 🐛 常见问题

### Q: 界面无法启动？
A: 检查系统是否安装了 tkinter：
```bash
python -c "import tkinter; print('tkinter 可用')"
```

### Q: 连接测试失败？
A: 检查：
- 主机地址是否正确
- 端口是否开放
- 网络连接是否正常
- 防火墙设置

### Q: 文件监控没有反应？
A: 确认：
- 文件路径是否正确
- 文件是否存在
- 是否有文件读取权限

### Q: 发送消息失败？
A: 检查：
- 先进行连接测试
- 确认消息格式是否正确
- 查看日志区域的详细错误信息

## 📞 支持

如有问题，请查看日志区域的详细错误信息，或检查原始的 `send_message.py` 文档。
